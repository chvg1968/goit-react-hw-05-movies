import{r as t,u as N,a as k,j as e}from"./index-ea3a619e.js";import R from"./Cast-8e5324c7.js";import _ from"./Reviews-8cfdd88f.js";import"./index-b05ce26d.js";function E(){const[s,u]=t.useState(null),{movieId:i}=N(),c=k(),[l,d]=t.useState(!1),[h,f]=t.useState(null),[v,w]=t.useState(null),[m,p]=t.useState(!1),[j,x]=t.useState(!1);t.useEffect(()=>{const a="0cc13ce7fd199b4570fdb1ee49a60c43",C=`https://api.themoviedb.org/3/movie/${i}?api_key=${a}`,$=`https://api.themoviedb.org/3/movie/${i}/credits?api_key=${a}`,S=`https://api.themoviedb.org/3/movie/${i}/reviews?api_key=${a}`;Promise.all([fetch(C),fetch($),fetch(S)]).then(([o,r,n])=>Promise.all([o.json(),r.json(),n.json()])).then(([o,r,n])=>{u(o),f(r),w(n)}).catch(o=>console.log(o))},[i]);const b=()=>{d(!0),p(!0),x(!1),c(`/movies/${i}/cast`)},g=()=>{d(!1),p(!1),x(!0),c(`/movies/${i}/reviews`)};return e.jsxs("div",{children:[s?e.jsxs("div",{className:`center movie-container ${m||j?"open":""}`,children:[s.poster_path&&e.jsx("img",{className:"poster",src:`https://image.tmdb.org/t/p/w500${s.poster_path}`,alt:"Poster"}),e.jsxs("div",{className:"movie-details",children:[e.jsx("h1",{children:s.title}),e.jsxs("p",{children:[e.jsx("b",{children:"UserScore:"}),e.jsx("br",{}),s.vote_average]}),e.jsxs("p",{children:[e.jsx("b",{children:"Overview:"}),e.jsx("br",{}),s.overview]}),e.jsxs("p",{children:[e.jsx("b",{children:"Genres:"}),e.jsx("br",{}),s.genres.map(a=>a.name).join(", ")]}),e.jsxs("div",{className:"addInfo",children:[e.jsx("p",{className:"add-title",children:"Additional Information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{onClick:b,children:"Cast"})}),e.jsx("li",{children:e.jsx("button",{onClick:g,children:"Reviews"})})]})]})]})]}):e.jsx("p",{children:"Loading movie info..."}),l&&h&&e.jsx("div",{className:`cast-list ${m?"open":""}`,children:e.jsx(R,{cast:h.cast})}),!l&&v&&e.jsx("div",{className:`reviews-list ${j?"open":""}`,children:e.jsx(_,{reviews:v.results})})]})}export{E as default};
