import{r as e,u as S,j as s}from"./index-c67c6681.js";import k from"./Cast-42ff8905.js";import R from"./Reviews-53f6b58f.js";import"./index-6de433a1.js";function P(){const[t,x]=e.useState(null),{movieId:a}=S(),[r,n]=e.useState(!1),[h,p]=e.useState(null),[d,w]=e.useState(null),[u,v]=e.useState(!1),[m,j]=e.useState(!1);e.useEffect(()=>{const i="0cc13ce7fd199b4570fdb1ee49a60c43",C=`https://api.themoviedb.org/3/movie/${a}?api_key=${i}`,$=`https://api.themoviedb.org/3/movie/${a}/credits?api_key=${i}`,g=`https://api.themoviedb.org/3/movie/${a}/reviews?api_key=${i}`;Promise.all([fetch(C),fetch($),fetch(g)]).then(([o,c,l])=>Promise.all([o.json(),c.json(),l.json()])).then(([o,c,l])=>{x(o),p(c),w(l)}).catch(o=>console.log(o))},[a]);const f=()=>{n(!0),v(!0),j(!1)},b=()=>{n(!1),v(!1),j(!0)};return s.jsxs("div",{children:[t?s.jsxs("div",{className:`center movie-container ${r?"show-cast":""} ${m?"show-reviews":""}`,children:[s.jsx("img",{className:"poster",src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:"Poster"}),s.jsxs("div",{className:"movie-details",children:[s.jsx("h1",{children:t.title}),s.jsxs("p",{children:[s.jsx("b",{children:"UserScore:"}),s.jsx("br",{}),t.vote_average]}),s.jsxs("p",{children:[s.jsx("b",{children:"Overview:"}),s.jsx("br",{}),t.overview]}),s.jsxs("p",{children:[s.jsx("b",{children:"Genres:"}),s.jsx("br",{}),t.genres.map(i=>i.name).join(", ")]}),s.jsxs("div",{className:"addInfo",children:[s.jsx("p",{children:"Additional Information"}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("button",{onClick:f,children:"Cast"})}),s.jsx("li",{children:s.jsx("button",{onClick:b,children:"Reviews"})})]})]})]})]}):s.jsx("p",{children:"Loading movie info..."}),r&&h&&s.jsx("div",{className:`cast-list ${u?"show":""}`,children:s.jsx(k,{cast:h.cast})}),!r&&d&&s.jsx("div",{className:`reviews-list ${m?"show":""}`,children:s.jsx(R,{reviews:d.results})})]})}export{P as default};
