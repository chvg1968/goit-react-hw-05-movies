import{r as s,u as $,j as e}from"./index-4bbd5b0b.js";import k from"./Cast-367b10ae.js";import N from"./Reviews-e60c4995.js";import"./index-95ac6f70.js";function P(){const[t,x]=s.useState(null),{movieId:a}=$(),[c,l]=s.useState(!1),[d,u]=s.useState(null),[h,f]=s.useState(null),[v,m]=s.useState(!1),[j,p]=s.useState(!1);s.useEffect(()=>{const i="0cc13ce7fd199b4570fdb1ee49a60c43",C=`https://api.themoviedb.org/3/movie/${a}?api_key=${i}`,g=`https://api.themoviedb.org/3/movie/${a}/credits?api_key=${i}`,S=`https://api.themoviedb.org/3/movie/${a}/reviews?api_key=${i}`;Promise.all([fetch(C),fetch(g),fetch(S)]).then(([o,r,n])=>Promise.all([o.json(),r.json(),n.json()])).then(([o,r,n])=>{x(o),u(r),f(n)}).catch(o=>console.log(o))},[a]);const w=()=>{l(!0),m(!0),p(!1)},b=()=>{l(!1),m(!1),p(!0)};return e.jsxs("div",{children:[t?e.jsxs("div",{className:`center movie-container ${v||j?"open":""}`,children:[e.jsx("img",{className:"poster",src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:"Poster"}),e.jsxs("div",{className:"movie-details",children:[e.jsx("h1",{children:t.title}),e.jsxs("p",{children:[e.jsx("b",{children:"UserScore:"}),e.jsx("br",{}),t.vote_average]}),e.jsxs("p",{children:[e.jsx("b",{children:"Overview:"}),e.jsx("br",{}),t.overview]}),e.jsxs("p",{children:[e.jsx("b",{children:"Genres:"}),e.jsx("br",{}),t.genres.map(i=>i.name).join(", ")]}),e.jsxs("div",{className:"addInfo",children:[e.jsx("p",{className:"add-title",children:"Additional Information"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{onClick:w,children:"Cast"})}),e.jsx("li",{children:e.jsx("button",{onClick:b,children:"Reviews"})})]})]})]})]}):e.jsx("p",{children:"Loading movie info..."}),c&&d&&e.jsx("div",{className:`cast-list ${v?"open":""}`,children:e.jsx(k,{cast:d.cast})}),!c&&h&&e.jsx("div",{className:`reviews-list ${j?"open":""}`,children:e.jsx(N,{reviews:h.results})})]})}export{P as default};
